<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<body>
<nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top" th:fragment="navbar">

    <a class="navbar-brand" href="/">
        <i class="fa fa-pagelines" aria-hidden="true" th:text="#{basicForm.appName}"></i>
    </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
            <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="/" th:text="#{basicForm.homePage}"></a>
            </li>
            <div sec:authorize="isAuthenticated()" style="display: inherit">
                <li class="nav-item">
                    <a class="nav-link active" th:href="@{/volunteer/all}" href="#"
                       th:text="#{volunteerList.title}"></a>
                </li>
                <li class="nav-item">
                    <a class="nav-link active" th:href="@{/need-request/all}" href="#"
                       th:text="#{needRequestList.title}"></a>
                </li>

            </div>
        </ul>
    </div>

    <ul class="navbar-nav float-right">
        <div sec:authorize="isAuthenticated()">
            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown"
                   aria-haspopup="true" aria-expanded="false">
                    <span sec:authentication="name"></span>
                </a>
                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown">
                    <form th:action="@{/logout}" method="post" style="width:auto!important;">
                        <div class="dropdown-item" th:method="post">
                            <input type="submit" th:value="#{basicForm.logout}"
                                   style="background: none;border: none;padding: 0; margin: 0px"/>
                        </div>
                    </form>
                </div>

            </li>
        </div>
        <div sec:authorize="!isAuthenticated()" style="display: inherit">
            <li class="nav-item">
                <a class="nav-link active" href="/login" th:text="#{basicForm.login}"></a>
            </li>
        </div>
    </ul>

    </div>

</nav>
</body>
</html>